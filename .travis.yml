language: php
php:
  - "5.6"
  # Disabled due to issues with Symfony components
  # - "7.0"
  - "7.1"
  - "7.2"
  - hhvm

services:
  - mysql

before_install:
  - mysql -e 'CREATE DATABASE IF NOT EXISTS test;'

env:

before_script:
  - rm composer.lock
  - composer self-update
  - composer install --no-interaction
  - cp phpunit.xml.dist phpunit.xml

script:
  - vendor/bin/phpunit

after_script:

# Customize when the notification emails are sent.
# See: https://docs.travis-ci.com/user/notifications/
notifications: # change, always, never
    email:
        on_success: change
        on_failure: always
